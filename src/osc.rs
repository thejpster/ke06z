//! # Oscillator driver for the KE06Z

// ****************************************************************************
//
// Imports
//
// ****************************************************************************

use super::registers as reg;

// ****************************************************************************
//
// Public Types
//
// ****************************************************************************

// None

// ****************************************************************************
//
// Public Data
//
// ****************************************************************************

// None

// ****************************************************************************
//
// Private Types
//
// ****************************************************************************

// None

// ****************************************************************************
//
// Private Data
//
// ****************************************************************************

// None

// ****************************************************************************
//
// Public Functions
//
// ****************************************************************************

/// Configure the oscillator to use an external crystal.
pub fn init() {
    let mut osc = reg::get_osc();
    osc.cr.write(reg::OSC_CR_RANGE | reg::OSC_CR_OSCOS | reg::OSC_CR_OSCEN);
    while (osc.cr.read() & reg::OSC_CR_OSCINIT) == 0 {

    }
}

// ****************************************************************************
//
// Private Functions
//
// ****************************************************************************

// None

// ****************************************************************************
//
// End Of File
//
// ****************************************************************************
